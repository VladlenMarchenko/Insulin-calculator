{"ast":null,"code":"const API = \"http://localhost:5000\";\n\n// ---------- AUTH ----------\nexport const login = data => fetch(`${API}/auth/login`, {\n  method: \"POST\",\n  headers: {\n    \"Content-Type\": \"application/json\"\n  },\n  body: JSON.stringify(data)\n}).then(r => r.json());\nexport const register = data => fetch(`${API}/auth/register`, {\n  method: \"POST\",\n  headers: {\n    \"Content-Type\": \"application/json\"\n  },\n  body: JSON.stringify(data)\n}).then(r => r.json());\n\n// ---------- CALCULATIONS ----------\nexport const saveCalculation = (data, token) => fetch(`${API}/calc`, {\n  method: \"POST\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n    Authorization: token\n  },\n  body: JSON.stringify(data)\n});\nexport const getMyHistory = token => fetch(`${API}/calc/my`, {\n  headers: {\n    Authorization: token\n  }\n}).then(r => r.json());\nexport const getPatients = token => fetch(`${API}/calc/patients`, {\n  headers: {\n    Authorization: token\n  }\n}).then(r => r.json());\nexport const getPatientHistory = (id, token) => fetch(`${API}/calc/patients/${id}`, {\n  headers: {\n    Authorization: token\n  }\n}).then(r => r.json());\n\n// ---------- PROFILE ----------\nexport const getProfile = token => fetch(\"http://localhost:5000/profile\", {\n  headers: {\n    Authorization: token\n  }\n}).then(async r => {\n  if (!r.ok) return null;\n  return r.json();\n});\nexport const updateProfile = (data, token) => fetch(\"http://localhost:5000/profile\", {\n  method: \"POST\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n    Authorization: token\n  },\n  body: JSON.stringify(data)\n});\nexport const getPatientProfile = (id, token) => fetch(`http://localhost:5000/profile/patient/${id}`, {\n  headers: {\n    Authorization: token\n  }\n}).then(r => r.json());","map":{"version":3,"names":["API","login","data","fetch","method","headers","body","JSON","stringify","then","r","json","register","saveCalculation","token","Authorization","getMyHistory","getPatients","getPatientHistory","id","getProfile","ok","updateProfile","getPatientProfile"],"sources":["C:/Users/lolol/OneDrive/Table/Калькулятор/insulin-calculator/insulin-calculator/src/services/api.js"],"sourcesContent":["const API = \"http://localhost:5000\";\r\n\r\n// ---------- AUTH ----------\r\nexport const login = (data) =>\r\n  fetch(`${API}/auth/login`, {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify(data),\r\n  }).then((r) => r.json());\r\n\r\nexport const register = (data) =>\r\n  fetch(`${API}/auth/register`, {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify(data),\r\n  }).then((r) => r.json());\r\n\r\n\r\n\r\n// ---------- CALCULATIONS ----------\r\nexport const saveCalculation = (data, token) =>\r\n  fetch(`${API}/calc`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: token,\r\n    },\r\n    body: JSON.stringify(data),\r\n  });\r\n\r\nexport const getMyHistory = (token) =>\r\n  fetch(`${API}/calc/my`, {\r\n    headers: { Authorization: token },\r\n  }).then((r) => r.json());\r\n\r\nexport const getPatients = (token) =>\r\n  fetch(`${API}/calc/patients`, {\r\n    headers: { Authorization: token },\r\n  }).then((r) => r.json());\r\n\r\nexport const getPatientHistory = (id, token) =>\r\n  fetch(`${API}/calc/patients/${id}`, {\r\n    headers: { Authorization: token },\r\n  }).then((r) => r.json());\r\n\r\n  // ---------- PROFILE ----------\r\nexport const getProfile = (token) =>\r\n  fetch(\"http://localhost:5000/profile\", {\r\n    headers: { Authorization: token },\r\n  }).then(async (r) => {\r\n    if (!r.ok) return null;\r\n    return r.json();\r\n  });\r\n\r\n\r\nexport const updateProfile = (data, token) =>\r\n  fetch(\"http://localhost:5000/profile\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: token,\r\n    },\r\n    body: JSON.stringify(data),\r\n  });\r\n\r\nexport const getPatientProfile = (id, token) =>\r\n  fetch(`http://localhost:5000/profile/patient/${id}`, {\r\n    headers: { Authorization: token },\r\n  }).then(r => r.json());\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}