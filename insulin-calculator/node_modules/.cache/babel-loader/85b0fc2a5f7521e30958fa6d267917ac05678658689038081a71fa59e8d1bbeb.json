{"ast":null,"code":"const API = \"http://localhost:5000\";\n\n// ---------- AUTH ----------\nexport const login = data => fetch(`${API}/auth/login`, {\n  method: \"POST\",\n  headers: {\n    \"Content-Type\": \"application/json\"\n  },\n  body: JSON.stringify(data)\n}).then(r => r.json());\nexport const register = data => fetch(`${API}/auth/register`, {\n  method: \"POST\",\n  headers: {\n    \"Content-Type\": \"application/json\"\n  },\n  body: JSON.stringify(data)\n}).then(async r => {\n  if (!r.ok) return null;\n  return r.json();\n});\n\n// ---------- CALCULATIONS ----------\nexport const saveCalculation = (data, token) => fetch(`${API}/calc`, {\n  method: \"POST\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n    Authorization: token\n  },\n  body: JSON.stringify(data)\n});\nexport const getMyHistory = token => fetch(`${API}/calc/my`, {\n  headers: {\n    Authorization: token\n  }\n}).then(r => r.json());\nexport const getPatients = token => fetch(`${API}/calc/patients`, {\n  headers: {\n    Authorization: token\n  }\n}).then(r => r.json());\nexport const getPatientHistory = (id, token) => fetch(`${API}/calc/patients/${id}`, {\n  headers: {\n    Authorization: token\n  }\n}).then(r => r.json());\n\n// ---------- PROFILE ----------\nexport const getProfile = token => fetch(`${API}/profile`, {\n  headers: {\n    Authorization: token\n  }\n}).then(async r => {\n  if (!r.ok) return null;\n  const text = await r.text();\n  return text ? JSON.parse(text) : null;\n});\nexport const updateProfile = (data, token) => fetch(\"http://localhost:5000/profile\", {\n  method: \"POST\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n    Authorization: token\n  },\n  body: JSON.stringify(data)\n});\nexport const getPatientProfile = (id, token) => fetch(`http://localhost:5000/profile/patient/${id}`, {\n  headers: {\n    Authorization: token\n  }\n}).then(r => r.json());","map":{"version":3,"names":["API","login","data","fetch","method","headers","body","JSON","stringify","then","r","json","register","ok","saveCalculation","token","Authorization","getMyHistory","getPatients","getPatientHistory","id","getProfile","text","parse","updateProfile","getPatientProfile"],"sources":["C:/Users/lolol/OneDrive/Table/Калькулятор/insulin-calculator/insulin-calculator/src/services/api.js"],"sourcesContent":["const API = \"http://localhost:5000\";\r\n\r\n// ---------- AUTH ----------\r\nexport const login = (data) =>\r\n  fetch(`${API}/auth/login`, {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify(data),\r\n  }).then((r) => r.json());\r\n\r\nexport const register = (data) =>\r\n  fetch(`${API}/auth/register`, {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify(data),\r\n  }).then(async (r) => {\r\n    if (!r.ok) return null;\r\n    return r.json();\r\n  });\r\n\r\n\r\n\r\n\r\n// ---------- CALCULATIONS ----------\r\nexport const saveCalculation = (data, token) =>\r\n  fetch(`${API}/calc`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: token,\r\n    },\r\n    body: JSON.stringify(data),\r\n  });\r\n\r\nexport const getMyHistory = (token) =>\r\n  fetch(`${API}/calc/my`, {\r\n    headers: { Authorization: token },\r\n  }).then((r) => r.json());\r\n\r\nexport const getPatients = (token) =>\r\n  fetch(`${API}/calc/patients`, {\r\n    headers: { Authorization: token },\r\n  }).then((r) => r.json());\r\n\r\nexport const getPatientHistory = (id, token) =>\r\n  fetch(`${API}/calc/patients/${id}`, {\r\n    headers: { Authorization: token },\r\n  }).then((r) => r.json());\r\n\r\n  // ---------- PROFILE ----------\r\nexport const getProfile = (token) =>\r\n  fetch(`${API}/profile`, {\r\n    headers: { Authorization: token },\r\n  }).then(async (r) => {\r\n    if (!r.ok) return null;\r\n    const text = await r.text();\r\n    return text ? JSON.parse(text) : null;\r\n  });\r\n\r\n\r\n\r\nexport const updateProfile = (data, token) =>\r\n  fetch(\"http://localhost:5000/profile\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: token,\r\n    },\r\n    body: JSON.stringify(data),\r\n  });\r\n\r\nexport const getPatientProfile = (id, token) =>\r\n  fetch(`http://localhost:5000/profile/patient/${id}`, {\r\n    headers: { Authorization: token },\r\n  }).then(r => r.json());\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}